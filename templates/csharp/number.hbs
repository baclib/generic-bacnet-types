/// <summary>
/// Represents the BACnet primitive data type {{bacnetName}} with a range restriction from {{minValue}} to {{maxValue}}.
/// </summary>
public readonly record struct {{className}} : IComparable<{{className}}>, IComparable
{
    /// <summary>
    /// The minimum allowed value for an instance of <see cref="{{className}}"/>.
    /// </summary>
    public const {{underlyingType}} MinValue = {{minValue}};

    /// <summary>
    /// The maximum allowed value for an instance of <see cref="{{className}}"/>.
    /// </summary>
    public const {{underlyingType}} MaxValue = {{maxValue}};

    /// <summary>
    /// Gets the instance value.
    /// </summary>
    public {{underlyingType}} Value { get; }

    /// <summary>
    /// Initializes a new instance of the <see cref="{{className}}"/> struct.
    /// </summary>
    /// <param name="value">The instance value, must be in the range from {{minValue}} to {{maxValue}}.</param>
    /// <exception cref="ArgumentOutOfRangeException">
    /// Thrown when <paramref name="value"/> is less than <see cref="MinValue"/> ({{minValue}}) 
    /// or greater than <see cref="MaxValue"/> ({{maxValue}}).
    /// </exception>
    public {{className}}({{underlyingType}} value)
    {
        ArgumentOutOfRangeException.ThrowIfLessThan(value, MinValue, nameof(value));
        ArgumentOutOfRangeException.ThrowIfGreaterThan(value, MaxValue, nameof(value));
        Value = value;
    }

    /// <summary>
    /// Compares this instance to another <see cref="{{className}}"/>.
    /// </summary>
    /// <param name="other">The instance to compare with.</param>
    /// <returns>
    /// A negative value if this instance is less than <paramref name="other"/>, 
    /// zero if equal, or a positive value if this instance is greater than <paramref name="other"/>.
    /// </returns>
    public int CompareTo({{className}} other) => Value.CompareTo(other.Value);

    /// <summary>
    /// Compares this instance to another object.
    /// </summary>
    /// <param name="obj">The object to compare with.</param>
    /// <returns>
    /// A negative value if this instance is less than <paramref name="obj"/>, 
    /// zero if equal, or a positive value if this instance is greater than <paramref name="obj"/>.
    /// </returns>
    /// <exception cref="ArgumentException">Thrown when <paramref name="obj"/> is not a <see cref="{{className}}"/>.</exception>
    public int CompareTo(object? obj)
    {
        if (obj is null)
        {
            return 1;
        }

        if (obj is {{className}} other)
        {
            return CompareTo(other);
        }

        throw new ArgumentException($"Object must be of type {nameof({{className}})}.", nameof(obj));
    }

    /// <summary>
    /// Implicitly converts a <see cref="{{className}}"/> instance to a <see cref="{{underlyingType}}"/>.
    /// </summary>
    /// <param name="instance">The instance to convert.</param>
    public static implicit operator {{underlyingType}}({{className}} instance) => instance.Value;

    /// <summary>
    /// Explicitly converts a <see cref="{{underlyingType}}"/> to a <see cref="{{className}}"/>.
    /// </summary>
    /// <param name="value">The {{underlyingType}} value to convert.</param>
    /// <exception cref="ArgumentOutOfRangeException">
    /// Thrown when <paramref name="value"/> is less than <see cref="MinValue"/> ({{minValue}}) 
    /// or greater than <see cref="MaxValue"/> ({{maxValue}}).
    /// </exception>
    public static explicit operator {{className}}({{underlyingType}} value) => new(value);

    /// <summary>
    /// Returns a string representation of this instance.
    /// </summary>
    /// <returns>A string of <see cref="Value"/>.</returns>
    public override string ToString() => Value.ToString();
}
